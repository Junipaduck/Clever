<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.itwillbs.clever.mapper.NoticeMapper">

	<insert id="insertNotice">
	<selectKey keyProperty="notice_idx" resultType="int" order="BEFORE">
			SELECT IFNULL(MAX(notice_idx), 0) FROM notice
	</selectKey>
		INSERT 
			INTO notice
			VALUES (
				#{notice_idx} + 1
				, #{notice_title}
				, #{notice_content}
				, now()
				, 0 -- 조회수 하드코딩
			)
	</insert>

	<!-- 공지사항 목록 조회 -->
	<select id="selectNoticeList" resultType="HashMap">
		SELECT *
			FROM notice	
	</select>
</mapper>